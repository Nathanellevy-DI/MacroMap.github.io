(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var s=e.i(43476),a=e.i(71645);function t({onAnalyze:e,isLoading:t}){let[r,n]=(0,a.useState)(""),[l,i]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[l?(0,s.jsxs)("div",{className:"w-full max-w-sm space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"font-medium text-sm text-gray-400",children:"Ingredient List"}),(0,s.jsx)("button",{onClick:()=>{i(!1),n("")},className:"text-xs text-gray-500 hover:text-gray-300 transition-colors",children:"Cancel"})]}),(0,s.jsx)("textarea",{value:r,onChange:e=>n(e.target.value),placeholder:"Paste or type the ingredient list here...  Example: Water, Sugar, Corn Syrup, Red 40, Yellow 5...",rows:8,autoFocus:!0,className:"w-full px-4 py-3 rounded-xl bg-gray-900 border border-gray-700 focus:border-emerald-500 focus:outline-none text-white placeholder-gray-500 resize-none text-sm leading-relaxed"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"We'll check for ingredients banned or restricted in the EU"}),(0,s.jsx)("button",{onClick:()=>{r.trim()&&e(r)},disabled:t||!r.trim(),className:"btn-primary w-full",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Analyzing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Analyze Ingredients"]})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"camera-container gradient-border",children:[(0,s.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center gap-6 p-8 text-center",children:[(0,s.jsx)("div",{className:"w-24 h-24 rounded-3xl bg-gradient-to-br from-red-500/20 to-orange-500/20 flex items-center justify-center float",children:(0,s.jsx)("svg",{className:"w-12 h-12 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-300 font-medium mb-1",children:"Paste Ingredient List"}),(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"Copy ingredients from a food label"})]})]}),(0,s.jsx)("div",{className:"camera-overlay"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[(0,s.jsxs)("button",{onClick:()=>i(!0),className:"btn-primary pulse-glow",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Enter Ingredients"]}),(0,s.jsx)("button",{onClick:()=>{n("Water, High Fructose Corn Syrup, Citric Acid, Natural Flavors, Potassium Bromate, Red 40, Yellow 5, Titanium Dioxide, BHA, Sodium Benzoate"),i(!0)},className:"btn-secondary text-sm",children:"Try Sample (with Red Flags)"})]})]}),(0,s.jsx)("p",{className:"text-xs text-center text-gray-600 mt-4",children:"✓ No API key required • Instant local analysis"})]})}function r({score:e}){let a=2*Math.PI*54,t=()=>e>=70?"#22c55e":e>=40?"#f59e0b":"#ef4444";return(0,s.jsxs)("div",{className:"relative w-40 h-40",children:[(0,s.jsxs)("svg",{className:"score-ring w-full h-full",viewBox:"0 0 120 120",children:[(0,s.jsx)("circle",{cx:"60",cy:"60",r:54,fill:"none",stroke:"rgba(255,255,255,0.05)",strokeWidth:"10"}),(0,s.jsx)("circle",{cx:"60",cy:"60",r:54,fill:"none",stroke:t(),strokeWidth:"10",strokeLinecap:"round",strokeDasharray:a,strokeDashoffset:a-e/100*a,style:{transition:"stroke-dashoffset 1.5s ease-out"}})]}),(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,s.jsx)("span",{className:"text-4xl font-bold",style:{color:t()},children:e}),(0,s.jsx)("span",{className:"text-xs text-gray-400 uppercase tracking-wider",children:e>=70?"Safe":e>=40?"Caution":"Risk"})]})]})}function n({score:e,redFlags:a,allIngredients:t,onReset:n}){return(0,s.jsxs)("div",{className:"w-full max-w-lg mx-auto space-y-6 fade-in",children:[(0,s.jsxs)("div",{className:"glass-card p-8 flex flex-col items-center gap-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-300",children:"Safety Score"}),(0,s.jsx)(r,{score:e}),(0,s.jsx)("p",{className:"text-sm text-gray-400 text-center max-w-xs",children:e>=70?"This product appears to meet EU safety standards.":e>=40?"Some ingredients may need attention. Check the flags below.":"This product contains ingredients banned in the EU."})]}),a.length>0&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-3",children:[(0,s.jsx)("span",{className:"w-3 h-3 rounded-full bg-red-500 animate-pulse"}),"Red Flags (",a.length,")"]}),a.map((e,a)=>(0,s.jsxs)("div",{className:"red-flag-card fade-in",style:{animationDelay:`${.1*a}s`},children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsx)("h4",{className:"font-semibold text-red-400 text-lg",children:e.name}),(0,s.jsx)("span",{className:"text-xs px-3 py-1.5 rounded-full bg-red-500/20 text-red-400 font-medium",children:e.euStatus})]}),(0,s.jsx)("p",{className:"text-sm text-gray-300 leading-relaxed",children:e.risk}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-3 pt-3 border-t border-red-500/10",children:["Found as: ",(0,s.jsxs)("span",{className:"text-gray-400 font-medium",children:['"',e.foundAs,'"']})]})]},a))]}),0===a.length&&(0,s.jsxs)("div",{className:"safe-card flex items-center gap-5",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-green-500/20 flex items-center justify-center shrink-0",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-green-400 text-lg",children:"All Clear!"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"No banned ingredients detected in this product."})]})]}),t.length>0&&(0,s.jsxs)("div",{className:"glass-card p-5",children:[(0,s.jsxs)("h3",{className:"text-sm font-semibold text-gray-400 mb-4",children:["All Ingredients (",t.length,")"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map((e,t)=>{let r=a.some(s=>e.toLowerCase().includes(s.foundAs.toLowerCase()));return(0,s.jsxs)("span",{className:`ingredient-chip ${r?"flagged":"safe"}`,children:[r&&(0,s.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e]},t)})})]}),(0,s.jsxs)("button",{onClick:n,className:"btn-primary w-full",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Analyze Another Product"]}),(0,s.jsx)("p",{className:"text-xs text-center text-gray-600",children:"Based on EU 2026 food safety regulations"})]})}async function l(e){try{let s=await fetch(`https://world.openfoodfacts.org/cgi/search.pl?search_terms=${encodeURIComponent(e)}&search_simple=1&action=process&json=1&page_size=10`);if(!s.ok)throw Error("Failed to search foods");return(await s.json()).products.filter(e=>e.nutriments).map(e=>{let s=e.nutriments;return{name:e.product_name||"Unknown Product",brand:e.brands||void 0,servingSize:e.serving_size||"100g",calories:Math.round(s["energy-kcal_100g"]||s["energy-kcal"]||0),protein:Math.round(10*(s.proteins_100g||s.proteins||0))/10,carbs:Math.round(10*(s.carbohydrates_100g||s.carbohydrates||0))/10,fat:Math.round(10*(s.fat_100g||s.fat||0))/10,fiber:s.fiber_100g||s.fiber,sugar:s.sugars_100g||s.sugars,sodium:s.sodium_100g||s.sodium,image:e.image_small_url||e.image_url}}).slice(0,10)}catch(e){throw console.error("Open Food Facts API error:",e),e}}let i={tomato:{name:"Tomato",servingSize:"1 medium (123g)",calories:22,protein:1.1,carbs:4.8,fat:.2,fiber:1.5,sugar:3.2},olive_oil:{name:"Olive Oil",servingSize:"1 tbsp (14g)",calories:119,protein:0,carbs:0,fat:13.5},chicken_breast:{name:"Chicken Breast",servingSize:"100g",calories:165,protein:31,carbs:0,fat:3.6},rice:{name:"White Rice (cooked)",servingSize:"1 cup (158g)",calories:206,protein:4.3,carbs:45,fat:.4,fiber:.6},egg:{name:"Egg",servingSize:"1 large (50g)",calories:72,protein:6.3,carbs:.4,fat:4.8},banana:{name:"Banana",servingSize:"1 medium (118g)",calories:105,protein:1.3,carbs:27,fat:.4,fiber:3.1,sugar:14},avocado:{name:"Avocado",servingSize:"1/2 fruit (100g)",calories:160,protein:2,carbs:8.5,fat:15,fiber:7},salmon:{name:"Salmon",servingSize:"100g",calories:208,protein:20,carbs:0,fat:13},broccoli:{name:"Broccoli",servingSize:"1 cup (91g)",calories:31,protein:2.5,carbs:6,fat:.3,fiber:2.4},potato:{name:"Potato",servingSize:"1 medium (150g)",calories:163,protein:4.3,carbs:37,fat:.2,fiber:3.8}};function o(e){let s=e.toLowerCase().trim();for(let[e,a]of Object.entries(i))if(e.includes(s)||s.includes(e)||a.name.toLowerCase().includes(s))return a;return null}function c({totals:e}){let a=[{name:"Protein",value:e.protein,color:"#22c55e",goal:150},{name:"Carbs",value:e.carbs,color:"#3b82f6",goal:250},{name:"Fat",value:e.fat,color:"#f59e0b",goal:65}];return(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Macro Breakdown"}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-emerald-400",children:Math.round(e.calories)}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"calories"})]})]}),(0,s.jsx)("div",{className:"space-y-4",children:a.map(e=>{let a=Math.min(e.value/e.goal*100,100);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,s.jsx)("span",{className:"text-gray-400",children:e.name}),(0,s.jsxs)("span",{className:"font-medium",style:{color:e.color},children:[e.value.toFixed(1),"g"]})]}),(0,s.jsx)("div",{className:"h-3 bg-gray-800 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${a}%`,background:`linear-gradient(90deg, ${e.color}, ${e.color}aa)`}})})]},e.name)})}),(0,s.jsx)("div",{className:"mt-6 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"relative w-32 h-32",children:[(0,s.jsx)("svg",{viewBox:"0 0 36 36",className:"w-full h-full",children:(()=>{let a=4*e.protein+4*e.carbs+9*e.fat;if(0===a)return(0,s.jsx)("circle",{cx:"18",cy:"18",r:"15.9",fill:"none",stroke:"#1f2937",strokeWidth:"3.8"});let t=4*e.protein/a*100,r=4*e.carbs/a*100,n=9*e.fat/a*100,l=25;return[{pct:t,color:"#22c55e"},{pct:r,color:"#3b82f6"},{pct:n,color:"#f59e0b"}].map((e,a)=>{let t=(0,s.jsx)("circle",{cx:"18",cy:"18",r:"15.9",fill:"none",stroke:e.color,strokeWidth:"3.8",strokeDasharray:`${e.pct} ${100-e.pct}`,strokeDashoffset:l,style:{transition:"all 0.5s ease"}},a);return l-=e.pct,t})})()}),(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"Total"}),(0,s.jsx)("span",{className:"text-lg font-bold",children:Math.round(e.calories)})]})]})}),(0,s.jsx)("div",{className:"flex justify-center gap-4 mt-4",children:a.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:e.color}}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:e.name})]},e.name))})]})}function d({item:e,onRemove:a}){return(0,s.jsxs)("div",{className:"glass-card p-4 flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h4",{className:"font-medium text-sm truncate",children:e.name}),e.brand&&(0,s.jsxs)("span",{className:"text-xs text-gray-500 truncate",children:["(",e.brand,")"]})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.servingSize}),(0,s.jsxs)("div",{className:"flex gap-3 mt-1.5",children:[(0,s.jsxs)("span",{className:"text-xs text-emerald-400",children:[e.protein,"g P"]}),(0,s.jsxs)("span",{className:"text-xs text-blue-400",children:[e.carbs,"g C"]}),(0,s.jsxs)("span",{className:"text-xs text-amber-400",children:[e.fat,"g F"]})]})]}),(0,s.jsxs)("div",{className:"text-right shrink-0",children:[(0,s.jsx)("div",{className:"text-lg font-semibold",children:e.calories}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"cal"})]}),(0,s.jsx)("button",{onClick:a,className:"p-2 rounded-lg hover:bg-red-500/20 text-gray-500 hover:text-red-400 transition-colors",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function x({food:e,onAdd:a}){return(0,s.jsx)("button",{onClick:a,className:"w-full glass-card p-4 text-left hover:bg-white/5 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[e.image&&(0,s.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 rounded-lg object-cover"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h4",{className:"font-medium text-sm truncate",children:e.name}),e.brand&&(0,s.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.brand}),(0,s.jsxs)("div",{className:"flex gap-2 mt-1 text-xs",children:[(0,s.jsxs)("span",{className:"text-gray-400",children:[e.calories," cal"]}),(0,s.jsxs)("span",{className:"text-emerald-400",children:[e.protein,"g P"]}),(0,s.jsxs)("span",{className:"text-blue-400",children:[e.carbs,"g C"]}),(0,s.jsxs)("span",{className:"text-amber-400",children:[e.fat,"g F"]})]})]}),(0,s.jsx)("svg",{className:"w-5 h-5 text-emerald-400 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})})}function m({onBack:e}){let[t,r]=(0,a.useState)([]),[n,i]=(0,a.useState)(""),[m,h]=(0,a.useState)([]),[u,g]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),j=(0,a.useRef)(null),b=t.reduce((e,s)=>({calories:e.calories+s.calories,protein:e.protein+s.protein,carbs:e.carbs+s.carbs,fat:e.fat+s.fat,fiber:e.fiber+(s.fiber||0),sugar:e.sugar+(s.sugar||0)}),{calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0}),v=(0,a.useCallback)(async e=>{(i(e),j.current&&clearTimeout(j.current),e.length<2)?h([]):j.current=setTimeout(async()=>{g(!0);try{let s=o(e),a=await l(e),t=s?[s,...a]:a;h(t)}catch(a){console.error("Search error:",a);let s=o(e);s&&h([s])}finally{g(!1)}},300)},[]);return(0,s.jsxs)("div",{className:"max-w-lg mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("button",{onClick:e,className:"icon-btn",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsx)("h2",{className:"text-xl font-bold gradient-text",children:"Meal Builder"}),(0,s.jsx)("div",{className:"w-10"})," "]}),(0,s.jsx)("p",{className:"text-center text-gray-400 text-sm",children:"Search foods to track your meal's macros"}),(0,s.jsx)(c,{totals:b}),f?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:n,onChange:e=>v(e.target.value),placeholder:"Search foods (e.g., chicken, rice, banana)...",autoFocus:!0,className:"w-full px-4 py-3 pl-11 rounded-xl bg-gray-900 border border-gray-700 focus:border-emerald-500 focus:outline-none text-white placeholder-gray-500"}),(0,s.jsx)("svg",{className:"w-5 h-5 absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,s.jsx)("button",{onClick:()=>{p(!1),i(""),h([])},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 py-4",children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin"}),(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Searching..."})]}),m.length>0&&(0,s.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:m.map((e,a)=>(0,s.jsx)(x,{food:e,onAdd:()=>{let s;return s={id:Date.now().toString(),name:e.name,brand:e.brand,servingSize:e.servingSize,calories:e.calories,protein:e.protein,carbs:e.carbs,fat:e.fat,fiber:e.fiber,sugar:e.sugar,sodium:e.sodium,timestamp:Date.now()},void(r(e=>[...e,s]),i(""),h([]),p(!1))}},`${e.name}-${a}`))}),n.length>=2&&!u&&0===m.length&&(0,s.jsx)("p",{className:"text-center text-gray-500 text-sm py-4",children:"No results found. Try a different search term."})]}):(0,s.jsxs)("button",{onClick:()=>p(!0),className:"btn-primary w-full pulse-glow",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search Food"]}),t.length>0&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("h3",{className:"font-semibold text-sm text-gray-400",children:["Added Items (",t.length,")"]}),(0,s.jsx)("button",{onClick:()=>{r([])},className:"text-xs text-red-400 hover:text-red-300 transition-colors",children:"Clear All"})]}),t.map(e=>(0,s.jsx)(d,{item:e,onRemove:()=>{var s;return s=e.id,void r(e=>e.filter(e=>e.id!==s))}},e.id))]}),0===t.length&&!f&&(0,s.jsxs)("div",{className:"glass-card p-8 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-emerald-500/20 to-blue-500/20 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),(0,s.jsx)("h4",{className:"font-medium mb-1",children:"Start Building Your Meal"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Search for foods to track nutrition - no API key needed!"})]}),(0,s.jsx)("p",{className:"text-xs text-center text-gray-600",children:"Powered by Open Food Facts • Free & Open Data"})]})}let h=[{name:"Titanium Dioxide",aliases:["E171","titanium oxide","CI 77891","titanium white"],risk:"Genotoxicity risk: potential DNA damage",euStatus:"Banned in EU since 2022",category:"Colorant"},{name:"Potassium Bromate",aliases:["E924","potassium bromate","bromate"],risk:"Known carcinogen linked to kidney and thyroid tumors",euStatus:"Banned in EU since 1990",category:"Flour Treatment"},{name:"Brominated Vegetable Oil",aliases:["BVO","brominated vegetable oil","brominated oil"],risk:"Thyroid toxin and neurological concerns",euStatus:"Banned in EU and Japan",category:"Emulsifier"},{name:"Propylparaben",aliases:["E217","propyl paraben","propyl 4-hydroxybenzoate"],risk:"Endocrine disruptor linked to hormone issues",euStatus:"Banned in EU food since 2006",category:"Preservative"},{name:"Red Dye No. 3",aliases:["Red 3","Erythrosine","E127","FD&C Red No. 3","red #3"],risk:"Linked to thyroid tumors in animal studies",euStatus:"Banned in EU food products",category:"Colorant"},{name:"Azodicarbonamide",aliases:["ADA","azodicarbonamide","E927a"],risk:"Respiratory sensitizer, linked to asthma",euStatus:"Banned in EU food (allowed in plastics)",category:"Flour Bleaching"},{name:"Red 40",aliases:["Allura Red","E129","FD&C Red No. 40","red #40","CI 16035"],risk:"Hyperactivity in children, requires EU warning label",euStatus:"Requires warning label in EU",category:"Colorant"},{name:"Yellow 5",aliases:["Tartrazine","E102","FD&C Yellow No. 5","yellow #5","CI 19140"],risk:"Hyperactivity in children, allergic reactions",euStatus:"Requires warning label in EU",category:"Colorant"},{name:"Yellow 6",aliases:["Sunset Yellow","E110","FD&C Yellow No. 6","yellow #6","CI 15985"],risk:"Hyperactivity in children, allergic reactions",euStatus:"Requires warning label in EU",category:"Colorant"},{name:"Blue 1",aliases:["Brilliant Blue","E133","FD&C Blue No. 1","blue #1","CI 42090"],risk:"Potential neurotoxicity concerns",euStatus:"Restricted use in EU",category:"Colorant"},{name:"BHA",aliases:["Butylated Hydroxyanisole","E320","BHA"],risk:"Possible carcinogen, endocrine disruptor",euStatus:"Restricted in EU",category:"Preservative"},{name:"BHT",aliases:["Butylated Hydroxytoluene","E321","BHT"],risk:"Possible carcinogen, liver effects",euStatus:"Restricted in EU",category:"Preservative"},{name:"TBHQ",aliases:["tert-Butylhydroquinone","TBHQ","E319"],risk:"Potential carcinogen, vision problems at high doses",euStatus:"Restricted in EU",category:"Preservative"},{name:"Olestra",aliases:["Olean","olestra"],risk:"Digestive issues, blocks vitamin absorption",euStatus:"Banned in EU and Canada",category:"Fat Substitute"},{name:"rBGH/rBST",aliases:["recombinant bovine growth hormone","rBGH","rBST","bovine somatotropin"],risk:"Increased IGF-1 levels, antibiotic resistance concerns",euStatus:"Banned in EU since 1990",category:"Hormone"},{name:"Ractopamine",aliases:["ractopamine","Paylean","Optaflexx"],risk:"Cardiovascular effects, banned in 160+ countries",euStatus:"Banned in EU since 1996",category:"Growth Promoter"},{name:"Arsenic-based drugs",aliases:["roxarsone","arsanilic acid","arsenic"],risk:"Carcinogen, accumulates in meat",euStatus:"Never approved in EU",category:"Animal Drug"},{name:"Carrageenan",aliases:["E407","carrageenan","Irish moss extract"],risk:"Inflammation concerns, digestive issues",euStatus:"Banned in EU infant formula",category:"Thickener"},{name:"Partially Hydrogenated Oils",aliases:["PHO","partially hydrogenated","trans fat","trans fats"],risk:"Trans fats increase heart disease risk",euStatus:"Strictly limited in EU (max 2%)",category:"Fat"},{name:"Sodium Nitrite",aliases:["E250","sodium nitrite","nitrite"],risk:"Forms carcinogenic nitrosamines",euStatus:"Restricted levels in EU",category:"Preservative"}];function u(){let[e,r]=(0,a.useState)("home"),[l,i]=(0,a.useState)(null),[o,c]=(0,a.useState)(!1);return"meal-builder"===e?(0,s.jsx)("main",{className:"min-h-screen px-4 py-8 pb-24",children:(0,s.jsx)(m,{onBack:()=>r("home")})}):"results"===e&&l?(0,s.jsx)("main",{className:"min-h-screen px-4 py-8 pb-24",children:(0,s.jsx)(n,{score:l.score,redFlags:l.redFlags,allIngredients:l.allIngredients,onReset:()=>{i(null),r("home")}})}):(0,s.jsxs)("main",{className:"min-h-screen px-4 py-8 pb-24",children:[(0,s.jsxs)("header",{className:"max-w-lg mx-auto mb-10 fade-in",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-emerald-500/30",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold gradient-text",children:"MacroMap"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Food Intelligence"})]})]}),(0,s.jsxs)("p",{className:"text-gray-400 text-sm text-center",children:["Check ingredients & track macros",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-emerald-400",children:"No API key required"})]})]}),(0,s.jsxs)("div",{className:"max-w-lg mx-auto space-y-4 fade-in fade-in-delay-1",children:[(0,s.jsx)("button",{onClick:()=>r("scanner"),className:"w-full glass-card p-6 text-left hover:scale-[1.02] transition-transform",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-red-500/20 to-orange-500/20 flex items-center justify-center shrink-0",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg mb-1",children:"Ingredient Scanner"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Detect ingredients banned in the EU but allowed in the US"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-red-500/20 text-red-400",children:"Red Flags"}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-amber-500/20 text-amber-400",children:"EU vs US"}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-400",children:"No API"})]})]}),(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-500 shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),(0,s.jsx)("button",{onClick:()=>r("meal-builder"),className:"w-full glass-card p-6 text-left hover:scale-[1.02] transition-transform",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-500/20 to-blue-500/20 flex items-center justify-center shrink-0",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg mb-1",children:"Meal Builder"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Track macros by searching foods from Open Food Facts"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-400",children:"Protein"}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-500/20 text-blue-400",children:"Carbs"}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-amber-500/20 text-amber-400",children:"Fat"})]})]}),(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-500 shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),"scanner"===e&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/95 z-40 overflow-auto",children:(0,s.jsx)("div",{className:"min-h-screen px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,s.jsx)("button",{onClick:()=>r("home"),className:"icon-btn mb-6",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsx)("h2",{className:"text-xl font-bold gradient-text text-center mb-2",children:"Ingredient Scanner"}),(0,s.jsxs)("p",{className:"text-gray-400 text-sm text-center mb-8",children:["Paste ingredients to check for ",(0,s.jsx)("span",{className:"text-red-400",children:"EU-banned"})," substances"]}),(0,s.jsx)(t,{onAnalyze:e=>{c(!0),setTimeout(()=>{let s=function(e){let s=e.toLowerCase().replace(/\([^)]*\)/g,e=>`, ${e.slice(1,-1)},`).replace(/contains less than \d+% of:?/gi,",").replace(/contains:?/gi,",").replace(/ingredients:?/gi,",").split(/[,;.]/).map(e=>e.trim()).filter(e=>e.length>1),a=[],t=new Set;for(let e of s)for(let s of h)for(let r of[s.name.toLowerCase(),...s.aliases.map(e=>e.toLowerCase())])if(e.includes(r)||r.includes(e)){t.has(s.name)||(t.add(s.name),a.push({name:s.name,risk:s.risk,euStatus:s.euStatus,foundAs:e}));break}return{score:Math.max(0,100-15*a.length),redFlags:a,allIngredients:s.filter(e=>e.length>2)}}(e);i({score:s.score,redFlags:s.redFlags,allIngredients:s.allIngredients}),r("results"),c(!1)},500)},isLoading:o})]})})}),(0,s.jsx)("footer",{className:"fixed bottom-0 left-0 right-0 py-4 text-center text-xs text-gray-600 bg-gradient-to-t from-black via-black/80 to-transparent",children:(0,s.jsx)("p",{children:"EU 2026 data • Open Food Facts • No API key needed"})})]})}e.s(["default",()=>u],31713)}]);